<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Challenge 5</title>
  <style>
    body {
      font-family: sans-serif;
      margin: 0;
      padding: 2rem;
      text-align: center;
    }

    .text-block {
      font-size: clamp(1rem, 2.5vw, 1.5rem);
      margin-bottom: 2rem;
      line-height: 1.6;
      padding: 1.5rem;
      border: 2px solid #ccc;
      border-radius: 10px;
      background-color: #f9f9f9;
      max-width: 900px;
      margin-left: auto;
      margin-right: auto;
      text-align: left;
      white-space: pre-wrap;
    }

    input[type="text"] {
      padding: 0.5rem;
      font-size: 1rem;
      width: 250px;
    }

    button {
      padding: 0.5rem 1rem;
      font-size: 1rem;
      margin-left: 0.5rem;
      border: none;
      border-radius: 5px;
      background-color: gray;
      color: white;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    .correct {
      background-color: green !important;
    }

    .incorrect {
      background-color: red !important;
    }

    .message {
      margin-top: 1rem;
      padding: 1rem;
      border-radius: 5px;
      font-weight: bold;
      display: none;
    }

    .message.success {
      background-color: #d4edda;
      color: #155724;
      display: block;
    }

    .message.error {
      background-color: #f8d7da;
      color: #721c24;
      display: block;
    }

    .back-link {
      margin-top: 2rem;
      display: inline-block;
      text-decoration: none;
      color: #333;
    }
  </style>
</head>
<body>
  <h1>Challenge 4</h1>

  <div class="text-block">
Pbyq oerj juvfcref va gur zbeavat uhfu,
Qnex ryvkve va n grzcrerq ehfu,
Fgrrcrq va fgvyyarff, fybj naq qrrc,
Yvxr frpergf gung gur funqbjf xrrc.
Ab ovggre ovgr, ab uheevrq synzr,
Whfg zryybj fgeratgu jvgubhg gur funzr.
Bire vpr vg sybjf yvxr gvzr,
Fzbbgu naq obyq, n fvyrag eulzr.
Njnxr gur fbhy, ohg pnyz gur fgbez,
Pbby va unaq, {guvf_vf_n_grfg_syns} n oernx sebz abez.
Rnpu fvc n cnhfr, n zvaqshy uhr
Gur cbrgel bs pbyq oerj.
  </div>

  <input type="text" id="userInput" placeholder="What is the flag?" />
  <button id="submitBtn">Submit</button>

  <div id="resultMessage" class="message"></div>

  <p><a href="index.html" class="back-link">‚Üê Back to Main Menu</a></p>

  <script>
    (() => {
      const sanitize = str => str.toLowerCase().replace(/[{}]/g, '').trim();
      const correctFlag = 'this_is_a_test_flag';
      const btn = document.getElementById('submitBtn');
      const message = document.getElementById('resultMessage');

      btn.addEventListener('click', () => {
        const input = document.getElementById('userInput').value;
        const clean = sanitize(input);

        if (clean === correctFlag) {
          btn.classList.remove('incorrect');
          btn.classList.add('correct');
          message.className = 'message success';
          message.textContent = 'Good job! The Flag is {this_is_a_test_flag}';
        } else {
          btn.classList.remove('correct');
          btn.classList.add('incorrect');
          message.className = 'message error';
          message.textContent = 'Wrong. Try Again!';
        }
      });
    })();
  </script>
</body>
</html>
